/* LUN-Avatar-Creator - v1.1.0
http://LEGOUniverseNews.github.io/LUN-Minifig-Wizard
Created 2013-2014 Triangle717 and rioforce; Licensed under the The MIT License
*/
function newMinifigWindow(){"use strict";for(var a=[$("#head-img").attr("src"),$("#the-special").attr("src"),$("#hat-img").attr("src"),$("#leg-img").attr("src"),$("#torso-img").attr("src"),$("#sword-img").attr("src"),$("#shield-img").attr("src"),'<img class="the-big-picture" id="shadow-img" src="img/ui/figure/drop-shadow.png'],b='<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="x-ua-compatible" content="IE=edge,chrome=1"><title>LEGO Universe News! Minifig Wizard</title><link  rel="stylesheet" href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:600"><link rel="stylesheet" href="css/LUNWizard.window.min.css"></head><body>',c='<div id="gear"><img width="40" height="40" src="img/ui/Gear.svg" /></div><div id="settings-panel">Background Color<table><tr></tr></table><br><span id="size-text">Size</span><br><input id="size-input" type="number" placeholder="600" autocomplete="off"><label id="size-label" for="size-input">px</label></div>',d='<script src="//code.jquery.com/jquery-2.1.0.min.js"></script><script src="lib/string-format.js"></script><script src="lib/modernizr.custom.70680.js"></script><script src="js/LUNWizard.window.min.js"></script>',e="</body></html>",f='<img class="the-big-picture" src="',g=0;g<a.length;g+=1)f+=a[g]+'" />',g!==a.length-1&&6!==g&&(f+='<img class="the-big-picture" src="');var h=window.open("window.html","LUNMinifigWizard","width=600, height=600");h.document.write(b+f+c+d+e),h.document.close()}function changeColor(a){"use strict";var b,c;a="#{0}".format(a),b=$(a).css("background-color"),c=$(".color-box").find(".white-border").selector.replace(/ .white-border/,""),$(c).removeClass("white-border"),$(a).addClass("white-border"),$("body").css("background-color",b)}var boxIDList=["red-color-box","green-color-box","blue-color-box","yellow-color-box","orange-color-box","black-color-box","white-color-box","gray-color-box"];$(function(){"use strict";var a='<td class="color-box" onclick="changeColor(this.id)"></td>';$.each(boxIDList,function(){$("tbody").append(a)}),$.each(boxIDList.reverse(),function(a,b){$("td:nth-child({0})".format(a+2)).attr("id",b)}),$("#gray-color-box").addClass("white-border");var b=!0,c=1150,d=Modernizr.csstransitions,e=$("#gear"),f=$("#settings-panel");d||(f.css("bottom","-120px"),e.on("mouseover",function(a){e.animate({bottom:"4px"},500),a.stopPropagation()}),e.on("mouseout",function(a){e.animate({bottom:"-2px"},500),a.stopPropagation()})),e.on("click",function(){b?(b=!1,f.css("visibility","visible"),d?f.css("transform","translate3d(0, -35px, 0)"):f.animate({bottom:"52px"},c)):(b=!0,d?(f.css("transform",""),window.setTimeout(function(){f.css("visibility","hidden")},c+2)):f.animate({bottom:"-120px"},c))});var g,h,i=$("#size-input");i.keyup(function(){g=i.val(),h=parseInt(g,10),!isNaN(h)&&600>=h&&($(".the-big-picture").width(h),$("#shadow-img").width(h))})});