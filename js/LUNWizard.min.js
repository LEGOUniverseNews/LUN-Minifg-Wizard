/* LUN-Avatar-Creator - v1.0.0
http://LEGOUniverseNews.github.io/LUN-Minifig-Wizard
Created 2014 Triangle717 and rioforce; Licensed under the The MIT License
*/
function changeCategoryImages(a,b){"use strict";$(document).ready(function(){$(".category-buttons-img").on("mouseover",function(){$(this).hasClass("active")||$(this).addClass("bubble")}),$(".category-buttons-img").on("mouseout",function(){$(this).hasClass("active")||$(this).removeClass("bubble")})}),a!==b&&$(".category-buttons-img").click(function(){$(a).removeClass("bubble"),$(b).addClass("bubble"),$(a).removeClass("active"),$(b).addClass("active")})}function changePartImages(a){"use strict";bodyPart=a;var b="#{0}".format(bodyPart);changeCategoryImages(oldpartTypeID,b),oldpartTypeID="#{0}".format(bodyPart),$(document).ready(function(){$.ajax({type:"GET",url:"img/images.xml",dataType:"xml",success:function(a){parseXML(a)}})})}function resizeTable(){"use strict";4===rowSize?(rowSize=6,imgSize="64px",$resizeButton.css("left","+=190px"),$(".myTables").animate({width:"+=180px"},300),$background.animate({width:"+=180px"},300),$categoryButtonsDiv.animate({"margin-left":"+=48px"},300),$content.animate({width:480},300),$("#minifigItems").animate({"margin-left":"20px"},100),$categoryButtons.animate({"padding-left":"5px"},100),$categoryButtons.animate({"padding-right":"5px"},100),$resizeButton.attr("src","img/ui/Reduce-button.svg")):(rowSize=4,imgSize="63px",$resizeButton.css("left","-=190px"),$(".myTables").animate({width:"-=180px"},300),$background.animate({width:"-=180px"},300),$categoryButtonsDiv.animate({"margin-left":"-=48px"},300),$content.animate({width:300},300),$("#minifigItems").animate({"margin-left":"5px"},100),$categoryButtons.animate({"padding-left":"0px"},100),$categoryButtons.animate({"padding-right":"0px"},100),$resizeButton.attr("src","img/ui/Enlarge-button.svg")),changePartImages(bodyPart),$(document).ready(function(){$(partNumberID).removeClass("selected"),setTimeout(function(){$(partNumberID).addClass("selected")},2)})}function reapplyBubble(){"use strict";$(partNumberID).removeClass("selected"),setTimeout(function(){$(partNumberID).addClass("selected")},2)}function main(a){"use strict";var b,c="#{0}".format(a);switch(bodyPart){case"Torso":b="#TorsoImg";break;case"Leg":b="#LegImg";break;case"Hat":b="#HatImg";break;case"Shield":b="#ShieldImg";break;case"Sword":b="#SwordImg";break;case"Head":b="#HeadImg"}oldpartNumberID!==c&&($(oldpartNumberID).removeClass("selected"),$(c).addClass("selected")),oldpartNumberID="#{0}".format(a),$(b).attr("src",imagesList[a])}function parseXML(a){"use strict";var b,c,d,e,f,g;imagesList[0]&&$.each(imagesList,function(a){imagesList.splice(a,imagesList.length)}),$(a).find(bodyPart).each(function(){c=$(this).find("image").text(),imagesList.push(c)}),$("#minifigItems").empty(),g='<tr><td id="0" class="selector">',d=0,f=0,e=0,$(a).find(bodyPart).each(function(){e+=1}),$(a).find(bodyPart).each(function(){f+=1,d=f-1,b=$(this).find("thumb").text(),g+='<a name="{0}" onclick="main(this.name)"><img alt="{1} #{2}" width="{3}" src="{4}" /></a>'.format(d,bodyPart,f,imgSize,b),g+=f!==e&&f%rowSize===0&&0!==f?'</td></tr><tr><td id="{0}" class="selector">'.format(f):f!==e?'</td><td id="{0}" class="selector">'.format(f):"</td>"}),$("#minifigItems").append(g),$(document).ready(4===rowSize&&e>16||6===rowSize&&e>24?function(){$content.perfectScrollbar({wheelSpeed:30,suppressScrollX:!0})}:function(){$content.perfectScrollbar("destroy")})}$(function(){"use strict";var a='<style>#error-link{text-decoration:none;}#error-link:hover{text-decoration:underline;}</style>\n<p id="error">Your browser is not supported!<br>Please update your browser to enjoy the<br>LEGO Universe News! Minifig Wizard.<br><br>You can research newer browsers at <a id="error-link" target="_blank" href="http://browsehappy.com/">browsehappy.com</a></p>',b={"font-size":"200%","font-weight":"bold",color:"red","margin-left":"40px"};return $.browser.msie&&$.browser.versionNumber<=8?($("body").remove(),$("html").html(a),$.each(b,function(a,b){$("#error").css(a,b)}),!1):void 0});var bodyPart,imagesList,rowSize,partNumberID,oldpartNumberID,oldpartTypeID,imgSize="63px",imagesList=[],rowSize=4;$(function(){"use strict";var a=$("#content"),b=$("#background"),c=$("#resize-button"),d=$(".category-buttons-th"),e=$("#category-buttons-div");$(".category-buttons-img:first").addClass("active"),$(".category-buttons-img:first").addClass("bubble"),$("#emmet").dblclick(function(){var a=$("#SpecialImg");"img/ui/figure/empty.png"===a.attr("src")?a.attr("src","img/special/Special001.png"):a.attr("src","img/ui/figure/empty.png")}),window.$content=a,window.$background=b,window.$resizeButton=c,window.$categoryButtons=d,window.$categoryButtonsDiv=e,changePartImages("Head")});